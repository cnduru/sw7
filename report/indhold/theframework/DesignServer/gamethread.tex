\subsection{Game thread}\label{designgamethread}
The game thread is designed to contain all game-specific logic for the game under development. This is the place where the user of the framework should design, development and implement all the functionality for their specific game. The game thread is contained within the \textit{Logic Layer}, but is not part of the framework itself. 

The framework is designed to be running multiple instances of the game thread, one for each active game on the server. Each game thread will, as the name suggests, be running on its own unique thread. 

The framework has been designed to dynamically dispatch method calls to the game thread. It is important that the communication uses the exact, and case sensitive game thread method-name. Otherwise the game thread will not be able to handle the provided request and the framework will fail. 

The game thread encapsulates all game-specific logic and is a manageable workstation for the user of the framework. It has the option to use the database through the \textit{Data Layer}, will framework provided methods. Additionally it has the option to create game events that can be queued into the \textit{

The game thread will contain a constructor for creating new games, which will be called from the Admin class. This constructor will have to handle optional settings upon game-creation. The game thread will then call the database to update the state of the game created in the Admin class called before the game thread, which updates according to the settings. Everything hereafter is optional and depends on the game one wants to develop. When a game ends, a call to clean up the database will be initialised and the thread running the ending game will be stopped.

Since we develop a framework for location-based games, we end up with 2 categories of calls to the game thread. One will be the trivial location update, where you provide a new position and get the position of nearby objects or players. The other category will be client requests, where the client actively ask for some information or ask to perform an action within the game. The game thread will also contain the calculations for the game logic handling these actions within the game, whichever they may be depends on the game. 